# Configuration principale - Football Live Prediction System
# Basé sur SoccerStats.com uniquement

# ============================================
# PARAMÈTRES GÉNÉRAUX
# ============================================
project:
  name: "Football Live Prediction"
  version: "1.0.0"
  author: "Iwaine"

# ============================================
# SOCCERSTATS.COM - SOURCE UNIQUE
# ============================================
soccerstats:
  base_url: "https://www.soccerstats.com"
  
  # Pages importantes
  urls:
    timing_stats: "/timing.asp?league={league_code}"
    team_stats: "/team.asp?league={league_code}&stats={team_id}"
    match_details: "/pmatch.asp?league={league_code}&stats={match_id}"
    matches_today: "/matches.asp"
    latest: "/latest.asp?league={league_code}"
  
  # Configuration scraping
  scraping:
    user_agent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
    timeout: 30
    retry_attempts: 3
    retry_delay: 3  # secondes
    rate_limit_delay: 2.5  # secondes entre requêtes
    
  # Configuration Selenium (pour live)
  selenium:
    headless: true
    window_size: "1920,1080"
    page_load_timeout: 30
    implicit_wait: 10

# ============================================
# LIGUES À SUIVRE
# ============================================
leagues:
  # Premier League
  - name: "Premier League"
    code: "england"
    country: "England"
    priority: 1
    enabled: true
    
  # La Liga
  - name: "La Liga"
    code: "spain"
    country: "Spain"
    priority: 2
    enabled: true
    
  # Serie A
  - name: "Serie A"
    code: "italy"
    country: "Italy"
    priority: 2
    enabled: true
    
  # Bundesliga
  - name: "Bundesliga"
    code: "germany"
    country: "Germany"
    priority: 2
    enabled: true
    
  # Ligue 1
  - name: "Ligue 1"
    code: "france"
    country: "France"
    priority: 2
    enabled: true
    
  # Championship
  - name: "Championship"
    code: "england2"
    country: "England"
    priority: 3
    enabled: false  # Désactivé par défaut

# ============================================
# ÉQUIPES DE TEST
# ============================================
test_teams:
  - name: "Manchester City"
    league_code: "england"
    team_id: "manchester-utd"
    
  - name: "Paris FC"
    league_code: "france"
    team_id: "psg"
    
  - name: "Real Madrid"
    league_code: "spain"
    team_id: "real-madrid"

# ============================================
# INTERVALLES DE TEMPS (MINUTES)
# ============================================
time_intervals:
  # Format d'origine SoccerStats (15 min)
  original:
    - "0-15"
    - "15-30"
    - "30-45"
    - "45-60"
    - "60-75"
    - "75-90"
  
  # Notre format cible (10 min)
  target:
    first_half:
      - "0-10"
      - "10-20"
      - "20-30"
      - "30-40"
      - "40-45"
    second_half:
      - "45-55"
      - "55-65"
      - "65-75"
      - "75-85"
      - "85-90"

# ============================================
# MOTEUR DE PRÉDICTION
# ============================================
prediction:
  # Poids des facteurs
  weights:
    historical_pattern: 0.40  # Patterns historiques
    live_pressure: 0.30       # Pression actuelle (dangerous attacks)
    live_efficiency: 0.20     # Efficacité (shots on target)
    live_quality: 0.10        # Qualité (shots inside box)
  
  # Seuils de confiance
  confidence_thresholds:
    high: 0.70      # >70% = Confiance haute
    medium: 0.50    # 50-70% = Confiance moyenne
    low: 0.30       # 30-50% = Confiance faible
  
  # Seuils de probabilité pour recommandations
  bet_thresholds:
    strong_bet: 0.65   # Recommandation forte
    moderate_bet: 0.55 # Recommandation modérée
    wait: 0.45         # Attendre

  # Nombre minimum de matchs pour profil fiable
  min_matches_for_profile: 5

# ============================================
# SYSTÈME DE MALUS/BONUS
# ============================================
adjustments:
  # Malus
  premature_goal: -0.15        # But marqué trop tôt vs pattern
  red_card_dominant: -0.25     # Carton rouge équipe dominante
  penalty_scored: -0.10        # Penalty (fausse stats jeu ouvert)
  
  # Bonus
  red_card_opponent: 0.20      # Carton rouge adversaire
  sustained_pressure: 0.15     # Pression maintenue >10min
  dangerous_attacks_spike: 0.10 # Pic d'attaques dangereuses

# ============================================
# STOCKAGE DES DONNÉES
# ============================================
data:
  # Répertoires
  directories:
    team_profiles: "data/team_profiles"
    team_profiles_json: "data/team_profiles/json"
    team_profiles_excel: "data/team_profiles/excel"
    raw_matches: "data/raw_matches"
    live_cache: "data/live_cache"
    predictions: "data/predictions"
    logs: "data/logs"
  
  # Formats d'export
  export:
    json: true
    excel: true
    csv: true
  
  # Cache
  cache:
    enabled: true
    ttl_minutes: 60  # Durée de vie du cache (historique)
    live_ttl_seconds: 90  # Durée de vie du cache (live)

# ============================================
# MONITORING LIVE
# ============================================
live_monitoring:
  refresh_interval: 60  # secondes
  max_concurrent_matches: 5
  alert_on_high_probability: true
  alert_threshold: 0.70
  
  # Stats à surveiller en priorité
  priority_stats:
    - "shots_on_target"
    - "dangerous_attacks"
    - "shots_inside_box"
    - "possession"

# ============================================
# INTERFACE
# ============================================
interface:
  dashboard:
    enabled: true
    refresh_rate: 2  # secondes
    show_debug: false
  
  # Couleurs (codes ANSI)
  colors:
    high_probability: "green"
    medium_probability: "yellow"
    low_probability: "red"
    info: "blue"
    warning: "yellow"
    error: "red"

# ============================================
# LOGGING
# ============================================
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "data/logs/app.log"
  max_bytes: 10485760  # 10MB
  backup_count: 5
  console_output: true

# ============================================
# NOTIFICATIONS (Phase ultérieure)
# ============================================
notifications:
  telegram:
    enabled: false  # À activer plus tard
    bot_token: ""
    chat_id: ""
  
  email:
    enabled: false
    smtp_server: ""
    smtp_port: 587
    from_address: ""
    to_addresses: []

# ============================================
# DÉVELOPPEMENT & DEBUG
# ============================================
development:
  debug_mode: true
  mock_data: false  # Utiliser données mockées pour tests
  save_html_responses: true  # Sauvegarder HTML pour debug
  verbose_logging: true
